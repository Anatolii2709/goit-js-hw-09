{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAaC,SAASC,cAAc,kBACpCC,EAAYF,SAASC,cAAc,iBACnCE,EAASH,SAASC,cAAc,mBAChCG,EAAYJ,SAASC,cAAc,UAEzCG,EAAUC,iBAAiB,SAe3B,SAAuBC,GACrBA,EAAIC,iBAEJ,IAAIC,EAAUC,OAAON,EAAOO,OACxBC,EAAcF,OAAOP,EAAUQ,OAC/BE,EAAQH,OAAOV,EAAWW,OAE9B,GAAIF,EAAU,GAAKG,EAAc,GAAKC,EAAQ,EAC5C,QAMJ,SAAoBJ,EAASG,EAAaC,GACxC,I,kBAGY,IAANC,IAGFD,GAASD,GAlCf,SAAuBG,EAAUF,GAC/B,OAAO,IAAIG,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAQ,CAAEF,WAAUF,UAEpBK,EAAO,CAAEH,WAAUF,S,GAEpBA,E,IA4BHS,CAReR,EAQSD,GACrBU,MAAK,SAAAC,G,IAAGT,EAAQS,EAART,SAAUU,EAAKD,EAALX,MACjBa,EAAA5B,GAAS6B,OAAOC,QACd,uBAAwCC,OAAfd,EAAS,QAAYc,OAANJ,EAAM,M,IAGjDK,OAAM,SAAAN,G,IAAGT,EAAQS,EAART,SAAUU,EAAKD,EAALX,MAClBa,EAAA5B,GAAS6B,OAAOI,QACd,sBAAqCF,OAAfd,EAAS,QAAYc,OAANJ,EAAM,M,IAG9CO,SAAQ,WACPlB,IAAML,EACFJ,EAAU4B,gBAAgB,WAAY,YACtC5B,EAAU6B,aAAa,WAAY,W,KAvBpCC,EAAI,EAAGA,GAAK1B,EAAS0B,GAAK,EAACC,EAAAD,E,CALlCE,CAAW5B,EAASG,EAAaC,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst firstDelay = document.querySelector('[name=\"delay\"]');\nconst delayStep = document.querySelector('[name=\"step\"]');\nconst amount = document.querySelector('[name=\"amount\"]');\nconst btnCreate = document.querySelector('button');\n\nbtnCreate.addEventListener('click', numberChecker);\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction numberChecker(evt) {\n  evt.preventDefault();\n\n  let counter = Number(amount.value);\n  let delayNumber = Number(delayStep.value);\n  let delay = Number(firstDelay.value);\n\n  if (counter < 0 || delayNumber < 0 || delay < 0) {\n    return;\n  } else {\n    onBtnClick(counter, delayNumber, delay);\n  }\n}\n\nfunction onBtnClick(counter, delayNumber, delay) {\n  for (let i = 1; i <= counter; i += 1) {\n    let position = i;\n\n    if (i === 1) {\n      delay;\n    } else {\n      delay += delayNumber;\n    }\n\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      })\n      .finally(() => {\n        i === counter\n          ? btnCreate.removeAttribute('disabled', 'disabled')\n          : btnCreate.setAttribute('disabled', 'disabled');\n      });\n  }\n}\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$firstDelay","document","querySelector","$ce04d3a99e08e73b$var$delayStep","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$btnCreate","addEventListener","evt","preventDefault","counter","Number","value","delayNumber","delay","i","position","Promise","resolve","reject","setTimeout","Math","random","$ce04d3a99e08e73b$var$createPromise","then","param","_$delay","$parcel$interopDefault","Notify","success","concat","catch","failure","finally","removeAttribute","setAttribute","i1","_loop","$ce04d3a99e08e73b$var$onBtnClick"],"version":3,"file":"03-promises.1f6bd8c3.js.map"}